<div class="login-container">
    <div class="login-wrapper">
        <div class="login-form-section">
            <div class="login-card">
                <div class="logo-text">AgroApp</div>
                <h2 class="login-title">Inicia Sesión</h2>
                <p class="login-subtitle">Ingrese sus detalles</p>

                <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                    <!-- Mensaje de error general -->
                    @if (errorMessage) {
                        <div class="alert-error">
                            {{ errorMessage }}
                        </div>
                    }

                    <div class="form-group">
                        <label class="form-label">
                            Usuario <span class="required">*</span>
                        </label>
                        <div class="input-wrapper">
                            <input
                                type="text"
                                class="form-input"
                                placeholder="Ingrese su usuario"
                                formControlName="usuario"
                            >
                            
                        </div>
                        @if (f.usuario.touched && f.usuario.invalid){
                            <div class="error-message">
								@if (f.usuario.hasError('required')) {
									<span>El usuario es obligatorio.</span>
								}
								@if (f.usuario.hasError('minLength')) {
									<span>Mínimo 2 caracteres.</span>
								}
								@if (f.usuario.hasError('maxlength')) {
									<span>Máximo 50 caracteres.</span>
								}
							</div>
                        }
                    </div>

                    <div class="form-group">
                        <label class="form-label">
                            Contraseña <span class="required">*</span>
                        </label>
                        <div class="input-wrapper">
                            <input
                                type="password"
                                class="form-input"
                                placeholder="Ingrese su contraseña"
                                formControlName="password"
                            >
                            <span class="input-icon">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <circle cx="10" cy="10" r="9" stroke="#8E9AAB" stroke-width="1.5"/>
                                </svg>
                            </span>
                        </div>
                        @if (f.password.touched && f.password.invalid){
                        <div class="error-message">
								@if (f.password.hasError('required')) {
									<span>La contraseña es obligatoria.</span>
								}
								@if (f.password.hasError('minLength')) {
									<span>Mínimo 8 caracteres.</span>
								}
								@if (f.password.hasError('maxlength')) {
									<span>Máximo 50 caracteres.</span>
								}
						</div>
                        }
                    </div>

                

                    <button
                        type="submit"
                        class="btn-login"
                        [disabled]="loginForm.invalid || isLoading"
                    >
                        @if (isLoading) {
                            <span>Cargando...</span>
                        } @else {
                            <span>LOGIN</span>
                        }
                    </button>
                </form>

                <div class="footer-text">
                    AgroApp. Todos los derechos reservados
                </div>
            </div>
        </div>

        <div class="login-image-section">
            <div class="image-card">
                <img
                    src="assets/images/LogoAPP.jpg"
                    alt="AgroApp Logo"
                    class="logo-image"
                >
            </div>
            <div class="message-section">
                <h3 class="message-title">Hacemos fácil lo que es nuestro</h3>
                <p class="message-subtitle">Optimizado para el trabajo</p>
            </div>
        </div>
    </div>
</div>
